# A simple example that ingests Apache2 logs, parses them, and prints
# them to STDOUT.

data_dir = "/var/lib/vector"

[sources.apache_logs]
  type         = "file"
  path         = "/var/log/apache2/*.log"
  ignore_older = 86400 # 1 day

[transforms.apache_parser]
  inputs       = ["apache_logs"]
  type         = "regex_parser"
  regex        = '^(?P<host>[w.]+) - (?P<user>[w]+) (?P<bytes_in>[d]+) [(?P<timestamp>.*)] "(?P<method>[w]+) (?P<path>.*)" (?P<status>[d]+) (?P<bytes_out>[d]+)$'

[sinks.out]
  inputs       = ["apache_parser"] # don't sample
  type         = "console"