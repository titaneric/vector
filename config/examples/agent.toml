#                                    __   __  __
#                                    \ \ / / / /
#                                     \ V / / /
#                                      \_/  \/
#
#                                    V E C T O R
#                                   Configuration
#
# ------------------------------------------------------------------------------
# Website: https://vector.dev
# Docs: https://vector.dev/docs
# Chat: https://chat.vector.dev
# ------------------------------------------------------------------------------

# The directory used for persisting Vector state.
data_dir = "/var/lib/vector"

# Configure Vector's GraphQL API.
[api]
enabled = true
address = "0.0.0.0:8686"
playground = false

# Collect logs from files.
[sources.file]
type = "file"
include = ["/var/log/**/*.log"]

# Collect metric data from the local system.
[sources.host_metrics]
type = "host_metrics"
[sources.host_metrics.filesystem.devices]
excludes = ["binfmt_misc"]
[sources.host_metrics.filesystem.filesystems]
excludes = ["binfmt_misc"]
[sources.host_metrics.filesystem.mountPoints]
excludes = ["*/proc/sys/fs/binfmt_misc"]

# Access to the metrics produced by Vector itself.
[sources.internal_metrics]
type = "internal_metrics"

# Send observability events nowhere
[sinks.blackhole]
type = "blackhole"
inputs = ["file"]

# Output metric events to a Prometheus exporter running on the host.
[sinks.prom_exporter]
type = "prometheus_exporter"
inputs = ["host_metrics", "internal_metrics"]
address = "0.0.0.0:9090"
